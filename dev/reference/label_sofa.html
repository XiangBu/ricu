<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>SOFA score label — sofa_score • ICU data with R</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.4.0/flatly/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script>

<!-- bootstrap-toc -->
<link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="SOFA score label — sofa_score" />
<meta property="og:description" content="The SOFA (Sequential Organ Failure Assessment) score is a commonly used
assessment tool used to track a patient's well-being in an ICU." />


<meta name="robots" content="noindex">

<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ICU data with R</a>
        <span class="version label label-danger" data-toggle="tooltip" data-placement="bottom" title="In-development version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/jss.pdf">\pkg{ricu}: \proglang{R}'s interface for ICU data (PDF)</a>
    </li>
    <li>
      <a href="../articles/uom.html">Units of measurement</a>
    </li>
  </ul>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/septic-tank/ricu">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>SOFA score label</h1>
    
    <div class="hidden name"><code>label_sofa.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>The SOFA (Sequential Organ Failure Assessment) score is a commonly used
assessment tool used to track a patient's well-being in an ICU.</p>
    </div>

    <pre class="usage"><span class='fu'>sofa_score</span>(
  <span class='kw'>pafi</span>,
  <span class='kw'>vent</span>,
  <span class='kw'>plt</span>,
  <span class='kw'>bili</span>,
  <span class='kw'>map</span>,
  <span class='kw'>norepi</span>,
  <span class='kw'>epi</span>,
  <span class='kw'>dopa</span>,
  <span class='kw'>dobu</span>,
  <span class='kw'>gcs</span>,
  <span class='kw'>crea</span>,
  <span class='kw'>urine24</span>,
  <span class='kw'>...</span>,
  interval = <span class='kw'>NULL</span>
)

<span class='fu'>sofa_pafi</span>(
  <span class='kw'>po2</span>,
  <span class='kw'>fio2</span>,
  win_length = <span class='fu'><a href='secs.html'>hours</a></span>(<span class='fl'>2L</span>),
  mode = <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"match_vals"</span>, <span class='st'>"extreme_vals"</span>, <span class='st'>"fill_gaps"</span>),
  fix_na_fio2 = <span class='fl'>TRUE</span>,
  interval = <span class='kw'>NULL</span>
)

<span class='fu'>sofa_vent</span>(
  <span class='kw'>vent_start</span>,
  <span class='kw'>vent_end</span>,
  win_length = <span class='fu'><a href='secs.html'>hours</a></span>(<span class='fl'>6L</span>),
  min_length = <span class='fu'><a href='secs.html'>mins</a></span>(<span class='fl'>10L</span>),
  interval = <span class='kw'>NULL</span>
)

<span class='fu'>sofa_gcs</span>(
  <span class='kw'>egcs</span>,
  <span class='kw'>mgcs</span>,
  <span class='kw'>vgcs</span>,
  <span class='kw'>tgcs</span>,
  <span class='kw'>trach</span>,
  <span class='kw'>rass</span>,
  win_length = <span class='fu'><a href='secs.html'>hours</a></span>(<span class='fl'>6L</span>),
  set_sed_max = <span class='fl'>TRUE</span>,
  set_na_max = <span class='fl'>TRUE</span>,
  interval = <span class='kw'>NULL</span>
)

<span class='fu'>sofa_urine</span>(<span class='kw'>urine</span>, min_win = <span class='fu'><a href='secs.html'>hours</a></span>(<span class='fl'>12L</span>), interval = <span class='kw'>NULL</span>)

<span class='fu'>sofa_window</span>(
  <span class='kw'>tbl</span>,
  pafi_win_fun = <span class='kw'>min_or_na</span>,
  plt_win_fun = <span class='kw'>min_or_na</span>,
  bili_win_fun = <span class='kw'>max_or_na</span>,
  map_win_fun = <span class='kw'>min_or_na</span>,
  dopa_win_fun = <span class='kw'>max_or_na</span>,
  norepi_win_fun = <span class='kw'>max_or_na</span>,
  dobu_win_fun = <span class='kw'>max_or_na</span>,
  epi_win_fun = <span class='kw'>max_or_na</span>,
  gcs_win_fun = <span class='kw'>min_or_na</span>,
  crea_win_fun = <span class='kw'>max_or_na</span>,
  urine_win_fun = <span class='kw'>min_or_na</span>,
  explicit_wins = <span class='fl'>FALSE</span>,
  worst_win_length = <span class='fu'><a href='secs.html'>hours</a></span>(<span class='fl'>24L</span>)
)

<span class='fu'>sofa_compute</span>(
  <span class='kw'>tbl</span>,
  na_val = <span class='fl'>0L</span>,
  na_val_resp = <span class='kw'>na_val</span>,
  na_val_plt = <span class='kw'>na_val</span>,
  na_val_liver = <span class='kw'>na_val</span>,
  na_val_cardio = <span class='kw'>na_val</span>,
  na_val_cns = <span class='kw'>na_val</span>,
  na_val_renal = <span class='kw'>na_val</span>,
  impute_fun = <span class='kw'>NULL</span>,
  keep_components = <span class='fl'>FALSE</span>,
  by_ref = <span class='fl'>FALSE</span>
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>pafi, vent, plt, bili, map, norepi, epi, dopa, dobu, gcs, crea, urine24</th>
      <td><p>Data
input used for sofa score evaluation (<code>ts_tbl</code> objects, as produced by
<code><a href='load_concepts.html'>load_concepts()</a></code>)</p></td>
    </tr>
    <tr>
      <th>...</th>
      <td><p>Passed to <code>sofa_window()</code> or <code>sofa_compute()</code></p></td>
    </tr>
    <tr>
      <th>interval</th>
      <td><p>Time series interval (only used for checking consistency
of input data, <code>NULL</code> will use the interval of the first data object)</p></td>
    </tr>
    <tr>
      <th>po2, fio2</th>
      <td><p>Data input used for PaO₂/FiO₂ evaluation</p></td>
    </tr>
    <tr>
      <th>win_length</th>
      <td><p>Maximal time window for which a GCS value is valid
if no newer measurement is available</p></td>
    </tr>
    <tr>
      <th>mode</th>
      <td><p>Method for matching PaO₂ and FiO₂ values</p></td>
    </tr>
    <tr>
      <th>fix_na_fio2</th>
      <td><p>Logical flag indicating whether to impute missing FiO₂
values with 21</p></td>
    </tr>
    <tr>
      <th>vent_start, vent_end</th>
      <td><p>Data input used for vent evaluation</p></td>
    </tr>
    <tr>
      <th>min_length</th>
      <td><p>Minimal time span between a ventilation start and end
time</p></td>
    </tr>
    <tr>
      <th>egcs, mgcs, vgcs, tgcs, trach, rass</th>
      <td><p>Data input used for gcs evaluation</p></td>
    </tr>
    <tr>
      <th>set_sed_max</th>
      <td><p>Logical flag for considering sedation</p></td>
    </tr>
    <tr>
      <th>set_na_max</th>
      <td><p>Logical flag controlling imputation of missing GCS values
with the respective maximum values</p></td>
    </tr>
    <tr>
      <th>urine</th>
      <td><p>Data input used for urine/24h evaluation</p></td>
    </tr>
    <tr>
      <th>min_win</th>
      <td><p>Minimal time span required for calculation of urine/24h</p></td>
    </tr>
    <tr>
      <th>tbl</th>
      <td><p>Table holding SOFA covariates</p></td>
    </tr>
    <tr>
      <th>pafi_win_fun, plt_win_fun, bili_win_fun, map_win_fun, dopa_win_fun, norepi_win_fun, dobu_win_fun, epi_win_fun, gcs_win_fun, crea_win_fun, urine_win_fun</th>
      <td><p>functions used to calculate worst values over windows</p></td>
    </tr>
    <tr>
      <th>explicit_wins</th>
      <td><p>The default <code>FALSE</code> iterates over all time steps,
<code>TRUE</code> uses only the last time step per patient and a vector of times will
iterate over these explicit time points</p></td>
    </tr>
    <tr>
      <th>worst_win_length</th>
      <td><p>Time-frame to look back and apply the <code>*_win_fun</code>s</p></td>
    </tr>
    <tr>
      <th>na_val</th>
      <td><p>Value to use for missing data</p></td>
    </tr>
    <tr>
      <th>na_val_resp, na_val_plt, na_val_liver, na_val_cardio, na_val_cns, na_val_renal</th>
      <td><p>Feature-specific values to use in case of missing data; default is <code>na_val</code></p></td>
    </tr>
    <tr>
      <th>impute_fun</th>
      <td><p>Function used to impute missing data; default is NULL</p></td>
    </tr>
    <tr>
      <th>keep_components</th>
      <td><p>Logical flag indicating whether to return individual
SOFA components as columns</p></td>
    </tr>
    <tr>
      <th>by_ref</th>
      <td><p>Logical flag indicating whether to perform the operation by
reference</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p>The SOFA score (Vincent et. al.) is evaluated as follows:</p><table class='table'>
<tr><td><strong>SOFA score</strong></td><td>1</td><td>2</td><td>3</td><td>4</td></tr>
<tr><td><strong>Respiration</strong> PaO₂/FiO₂ [mmHg]</td><td>&lt; 400</td><td>&lt; 300</td><td>&lt; 200 (with mech. vent.)</td><td>&lt; 100 (with mech. vent.)</td></tr>
<tr><td><strong>Coagulation</strong> Platelets [⨉10³/mm³]</td><td>&lt; 150</td><td>&lt; 100</td><td>&lt; 50</td><td>&lt; 20</td></tr>
<tr><td><strong>Liver</strong> Bilirubin [mg/dl] ([μmol/μl])</td><td>1.2-1.9 (20-32)</td><td>2.0-5.9 (33-101)</td><td>6.0-11.9 (102-204)</td><td>&gt; 12.0 (&gt; 204)</td></tr>
<tr><td><strong>Cardiovascular</strong> Hypotension</td><td>MAP &lt; 70 mmHg</td><td>Dopa ≤ 5 or dobu (any dose)ª</td><td>Dopa &gt; 5 or epi ≤ 0.1 or norepi ≤ 0.1</td><td>Dopa &gt; 15 or epi &gt; 0.1 or norepi &gt; 0.1</td></tr>
<tr><td><strong>Central nervous system</strong> Glasgow Coma Score</td><td>13-14</td><td>10-12</td><td>6-9</td><td>&lt; 6</td></tr>
<tr><td><strong>Renal</strong> Creatinine [mg/dl] ([μmol/μl]) or urine output [ml/day]</td><td>1.2-1.9 (110-170)</td><td>2.0-3.4 (171-299)</td><td>3.5-4.9 (300-440) &lt; 500</td><td>&gt; 5.0 (&lt; 440) &lt; 200</td></tr>
</table>



<p>ªAdrenergic agents administered for at least 1h (doses given are in [μg/kg
⋅ min]; dopa: dopamine, dobu: dobutamine, epi: epinephrine, norepi:
norepinephrine)</p>
<p>For each component, the worst value over a window of length
<code>worst_win_length</code> (default <code><a href='secs.html'>hours(24L)</a></code>) is taken.</p>
<p>The respiratory component of the SOFA score requires the evaluation of the
PaO₂/FiO₂ ratio. Often, however, both measures are not available at the
same time point. Therefore, PaO₂ and FiO₂ measurements are matched within a
window of size <code>pafi_win_length</code> (default <code><a href='secs.html'>hours(2L)</a></code>).</p>
<p>The renal component of the SOFA score assigns scores of 3 and 4 in case of
a very low urine output. Since the information on urine output is not very
reliable at the start of the ICU stay, we do not evaluate urine outputs
before a time window of <code>urine_min_win</code> (default <code><a href='secs.html'>hours(12L)</a></code>).</p>
<p>Mechanical ventilation is also part of the SOFA score. In some datasets,
ventilation start events are given, which cannot be matched to ventilation
end events specifically. In these cases, the duration of the ventilation
window is taken to be <code>vent_win_length</code> (default <code><a href='secs.html'>hours(6L)</a></code>).</p>
    <h2 class="hasAnchor" id="references"><a class="anchor" href="#references"></a>References</h2>

    <p>Vincent, J.-L., Moreno, R., Takala, J. et al. The SOFA (Sepsis-related Organ
Failure Assessment) score to describe organ dysfunction/failure. Intensive
Care Med 22, 707–710 (1996). https://doi.org/10.1007/BF01709751</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top">
      <h2 data-toc-skip>Contents</h2>
    </nav>
  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Nicolas Bennett, Drago Plecko, Ida-Fong Ukor.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.5.1.9000.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


